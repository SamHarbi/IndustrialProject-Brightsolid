<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>

    <!--Metadata and links-->
    <meta charset="utf-8"/>
    <title>BrightSolid</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600&family=Roboto&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="style.css">

    <!--Scripting for Google Charts API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        //Variables to insert into graph (in future, the numbers will be pulled from database and inserted into these variable. Right now, they are hard-coded)
        var compliant = 62;
        var noncompliant = 30;
        var comPercent = parseFloat(((compliant/(compliant+noncompliant))*100).toFixed(1)); //Percentage calculation
        
        //Chart creation
        google.charts.load("current", {packages:["corechart"]});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable([
                ['Compliance Status', 'Number of Compliant Resources'],
                ['Compliant',     compliant],
                ['Non-Compliant',      noncompliant],
          
            ]);

            //Chart options
            var options = {
                backgroundColor:'transparent',
                pieHole: 0.7,
                colors: ['#3ace50', '#ff0000'],
                legend: {position: "top", textStyle: {color:"#F1BA56"}},
                pieSliceText: "none"
            };

            //Insert percentage into percent p element
            document.getElementById("percent").innerHTML = comPercent+"%";

            var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
            chart.draw(data, options);
        }
    </script>

</head>

<body>

    <!--Header containing logo and log out option-->
    <header>
        <img id="logo" src="BrightSolidYellow.png" />

        <div class="logout">
            <p class="user">Hello *USER*</p>

            <!--Log out button for a logged in user-->
            <input class="btn" type="submit" value="Log Out">
        </div>
    </header>

    <main>
        <h1 class="title">Summary Dashboard</h1>

        <!--Left page element, containing filter button, refresh button and a table of rules and their compliance state-->
        <div id="left">

            <!--Sort button to order table-->
            <input class="btn btn-light" onclick="document.getElementById('filter').style.display='block'" type="submit" value="Filter">

            <!--Div for table-->
            <div class="section" id="table">
                <table>

                    <!--Table headers-->
                    <thead>
                        <tr>
                            <th width="10%">ID</th>
                            <th width="70%">Rule Name</th>
                            <th width="20%">Compliance State</th>
                        </tr>
                    </thead>

                    <!--Table contents-->
                    <tbody>



                        <!--For Testing. Delete when done.-->
                        <tr>
                            <td>1</td>
                            <td>Hello</td>
                            <td style="background-color:#3ace50">Goodbye</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>Hello</td>
                            <td style="background-color:#3ace50">Goodbye</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>Hello</td>
                            <td style="background-color:#ff0000">Goodbye</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>Hello</td>
                            <td style="background-color:#3ace50">Goodbye</td>
                        </tr>
                        <!--Delete-->



                    </tbody>
                </table>
            </div>

            <!--Refresh button to fetch latest version of table-->
            <div id="refresh">
                <input class="btn btn-light" type="submit" value="Refresh">
            </div>
        </div>

        <!--Right page element containing compliance graph-->
        <div id="right">

            <h1 class="title" id="righttitle">Total Compliance</h1>

            <!--Percentage label-->
            <div id="label">
                <p id="percent">0%</p>
                <p id="overall">Overall Compliance</p>
            </div>

            <!--Donut Chart of Total Complaince-->
            <div id="donutchart"></div>
            

        </div>

        <!--Modal that appears when the user presses 'Filter'-->
        <div id="filter" class="w3-modal w3-animate-opacity">
            <div class="w3-modal-content">

                <header class="w3-container">
                    <span class="w3-button w3-large w3-display-topright close" onclick="document.getElementById('filter').style.display='none'">&times;</span>
                    <h1 class="modalHeader">Filter</h1>
                </header>

                <form>
                    <div class="modalBody">
            
                        <!--Radio buttons to filter compliance states-->
                        <div class="filter">
                            <input type="radio" id="all" name="filter" checked="checked"/>
                            <label for="all">All Rules</label>
                        </div>

                        <div class="filter">
                            <input type="radio" id="com" name="filter"/>
                            <label for="com">Compliant Rules Only</label>
                        </div>

                        <div class="filter">
                            <input type="radio" id="non" name="filter"/>
                            <label for="non">Non-Compliant Rules Only</label>
                        </div>
                    
                    </div>
                </form>


                <header class="w3-container">
                    <h1 class="modalHeader">Sort Items</h1>
                </header>

                <form>
                    <div class="modalBody">
                    
                        <!--Radio buttons to sort by ID or Compliance-->
                        <div class="sort">
                            <input type="radio" id="none" name="sort" checked="checked"/>
                            <label for="none">None</label>
                        </div>

                        <div class="sort">
                            <input type="radio" id="asc" name="sort"/>
                            <label for="asc">By ID (Ascending)</label>
                        </div>

                        <div class="sort">
                            <input type="radio" id="des" name="sort"/>
                            <label for="des">By ID (Descending)</label>
                        </div>

                        <div class="sort">
                            <input type="radio" id="comnon" name="sort"/>
                            <label for="comnon">By Compliance</label>
                        </div>

                        <div class="sort">
                            <input type="radio" id="noncom" name="sort"/>
                            <label for="noncom">By Non-Compliance</label>
                        </div>
                    </div>
                
                </form>
                
                <div class="modalFooter">

                    <!--Apply button to submit sort/filter options-->
                    <input class="btn btn-warning" type="submit" value="Apply" onclick="document.getElementById('filter').style.display='none'">
                </div>
            </div>
        </div>

    </main>

</body>

</html>
